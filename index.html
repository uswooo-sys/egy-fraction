<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>埃及分数转换（完整版）</title>
    <style>
        body {
            font-family: "Microsoft YaHei", serif;
            background: #eef2f5;
            padding: 20px;
        }

        .box {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 12px rgba(0,0,0,0.15);
        }

        input, button {
            font-size: 16px;
            padding: 8px;
            width: 100%;
            box-sizing: border-box;
        }

        button {
            margin-top: 10px;
            cursor: pointer;
        }

        #result {
            margin-top: 20px;
            line-height: 1.8;
        }

        .step {
            background: #f7f9fb;
            padding: 8px;
            margin: 6px 0;
            border-left: 4px solid #4a90e2;
        }
    </style>
</head>
<body>
    <div class="box">
        <h2>埃及分数转换（支持假分数）</h2>
        <p>输入分数（如 7/3、4/13）：</p>
        <input type="text" id="fraction" placeholder="a/b">
        <button onclick="convert()">转换</button>

        <div id="result"></div>
    </div>

    <script>function convert() {
            const input = document.getElementById("fraction").value.trim();
            const resultDiv = document.getElementById("result");
            resultDiv.innerHTML = "";

            if (!input.includes("/")) {
                resultDiv.innerHTML = "请输入形如 a/b 的分数";
                return;
            }

            let [a, b] = input.split("/").map(Number);
            if (isNaN(a) || isNaN(b) || b === 0) {
                resultDiv.innerHTML = "请输入合法分数";
                return;
            }

            let output = [];
            let steps = [];

            if (a >= b) {
                let integerPart = Math.floor(a / b);
                output.push(integerPart.toString());
                a = a % b;
                if (a === 0) {
                    resultDiv.innerHTML = "结果：" + output.join(" + ");
                    return;
                }
            }

            while (a !== 0) {
                let n = Math.ceil(b / a);
                steps.push(`当前分数：${a}/${b}，取 1/${n}`);
                output.push("1/" + n);
                a = a * n - b;
                b = b * n;
            }

            resultDiv.innerHTML =
                "<strong>埃及分数表示：</strong><br>" +
                output.join(" + ") +
                "<br><br><strong>计算过程：</strong>";

            steps.forEach(s => {
                let div = document.createElement("div");
                div.className = "step";
                div.textContent = s;
                resultDiv.appendChild(div);
            });
        }</script>
</body>
</html>
